import{R as e,r as t,u as n,a}from"./vendor.b6e31b25.js";const l=()=>e.createElement("div",{className:"flex items-center justify-center h-12 rounded-md mb-4"},e.createElement("span",null,"もっと読み込む")),r=()=>e.createElement("div",{className:"flex items-center justify-center h-12 rounded-md mb-4"},e.createElement("span",null,"終わり 🎉")),c=n=>{const{swr:a,swr:{data:l,setSize:r,isValidating:c},type:s="auto",children:i,loadingIndicator:m=e.createElement("p",null,"読込中"),endingIndicator:o=e.createElement("p",null,"終わり"),clickIndicator:u=e.createElement("p",null,"もっと読み込む"),isReachingEnd:d}=n,[E,p]=(()=>{const[e,n]=t.exports.useState(!1),[a,l]=t.exports.useState();return t.exports.useEffect((()=>{if(!a)return;const t=new IntersectionObserver((([t])=>{e!==t.isIntersecting&&n(t.isIntersecting)}));return t.observe(a),()=>t.unobserve(a)}),[a,e]),[e,e=>e&&l(e)]})(),g="function"==typeof d?d(a):d;return t.exports.useEffect((()=>{E&&!g&&r((e=>e+1))}),[E,r,g]),l?e.createElement(e.Fragment,null,l.map((e=>i(e))),"auto"===s&&e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute",ref:p}),g?o:m),"click"===s&&e.createElement("div",{className:"relative cursor-pointer",onClick:()=>{r((e=>e+1))}},g?o:c?m:u)):e.createElement(e.Fragment,null,m)};var s="_loading_9vlyb_6";const i=()=>e.createElement("div",{className:"flex items-center justify-center p-8"},e.createElement("div",{className:s}),";"),m=()=>{const t=n((e=>`https://api.github.com/repos/facebook/react/issues?per_page=5&page=${e+1}`),(e=>fetch(e).then((e=>e.json()))));return t.error?e.createElement("p",null,"response error"):e.createElement("section",{className:"p-8"},e.createElement("h2",null,"GitHub Issue"),e.createElement("div",{className:"w-full"},e.createElement(c,{swr:t,loadingIndicator:e.createElement(i,null),endingIndicator:e.createElement(r,null),clickIndicator:e.createElement(l,null),isReachingEnd:e=>{var t,n,a,l,r;return!!e.data&&(0===(null==(n=null==(t=e.data)?void 0:t[0])?void 0:n.length)||(null==(r=null==(l=e.data)?void 0:l[(null==(a=e.data)?void 0:a.length)-1])?void 0:r.length)<5)},type:"click"},(t=>t.map((t=>e.createElement("div",{key:t.id,style:{padding:"20px",borderRadius:"8px",border:"solid #ccc 1px",margin:"20px auto",maxWidth:"400px"}},e.createElement("div",{style:{fontWeight:700}},t.title),e.createElement("div",{style:{color:"#aaa",marginTop:"8px"}},t.user.login," • ",new Date(t.created_at).toDateString()))))))))},o=()=>{const t=n((e=>e.toString()),(e=>new Promise((t=>{setTimeout((()=>{const n=[...Array(15)].map(((t,n)=>`item-${15*Number(e)+n+1}`));t(n)}),1e3)}))));return e.createElement("section",{className:"p-8"},e.createElement("h2",null,"Text"),e.createElement("div",{className:"w-full"},e.createElement(c,{swr:t,loadingIndicator:e.createElement(i,null),endingIndicator:e.createElement(r,null),isReachingEnd:e=>!!e.data&&e.data.flat().length>50},(t=>t.map((t=>e.createElement("div",{key:`box-${t}`,className:"flex items-center justify-center h-12 rounded-md mb-4 bg-gray-300"},e.createElement("span",null,`box-${t}`))))))))},u={text:"Text",github:"GitHub"},d=t.exports.createContext("Text"),E=({path:n,children:a})=>n===t.exports.useContext(d)?e.createElement(e.Fragment,null,a):e.createElement(e.Fragment,null),p=({path:t,children:n})=>e.createElement(d.Provider,{value:t},n),g=()=>{const[n,a]=t.exports.useState("Text");return e.createElement("div",null,e.createElement("nav",null,e.createElement("ul",{className:"flex gap-3"},Object.values(u).map(((t,n)=>e.createElement("li",{key:n},e.createElement("button",{onClick:()=>{a(t)}},t)))))),e.createElement("main",{className:"mt-8"},e.createElement(p,{path:n},e.createElement(E,{path:"Text"},e.createElement(o,null)),e.createElement(E,{path:"GitHub"},e.createElement(m,null)))))},v=()=>e.createElement("div",{className:"container mx-auto"},e.createElement("h1",{className:"block mt-4 text-4xl font-bold"},"react-infinity-scroll"),e.createElement(g,null));a.render(e.createElement(e.StrictMode,null,e.createElement(v,null)),document.getElementById("root"));
